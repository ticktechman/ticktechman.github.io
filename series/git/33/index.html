<!DOCTYPE html>

<html lang="en">

<head>
  
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-8H7XPB6TV4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-8H7XPB6TV4');
  </script>
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6745756499567894"
    crossorigin="anonymous"></script>
  
  <meta charset="UTF-8">
  
  <meta name="description" content="虽然UI设计不算优秀，但好在功能强大，完全免费">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Git服务器-使用gerrit搭建私有git服务</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <link rel="stylesheet" href="/assets/css/syntax.dark.css">
</head>

<body>
  <header class="">
  <div name="bar">
    <a href='/'><img name="logo" src="/assets/images/logo.webp"></a>
    <ul name="menu-h-area">
      <li>
        <a href='/'
          class=''>主页
        </a>
      </li>
      <li>
        <a href='/blog'
          class=''>博客
        </a>
      </li>
      <li>
        <a href='/series'
          class='current-menu'>专栏
        </a>
      </li>
      <li>
        <a href='/archive'
          class=''>归档
        </a>
      </li>
      <li>
        <a href='/about'
          class=''>关于
        </a>
      </li>
    </ul>
    <div class="flex flow-col space-x-4 items-center place-content-center">
      <button id="btn-menu" class="flex md:hidden" onclick="toggleMainMenu(event)">
        <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
          <path stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"></path>
        </svg>
      </button>
      <div id="main-menu-hidden" class="menu-hidden duration-300">
        <ul id="main-menu-ul">
          <li><a href='/'>主页</a></li>
          <li><a href='/blog'>博客</a></li>
          <li><a href='/series'>专栏</a></li>
          <li><a href='/archive'>归档</a></li>
          <li><a href='/about'>关于</a></li>
        </ul>
      </div>
      <button class="flex">
        <img id="language-selection" src="/assets/images/icon/lang-zh.svg" width="32"
          onclick="toggleLanguageMenu(event)" />
        <ul id="language-ul" class="menu-hidden duration-300">
          <li><a href='/'><img src="/assets/images/icon/lang-zh.svg" width="32" /></a></li>
          <li><a href='/en'><img src="/assets/images/icon/lang-en.svg" width="32" /></a></li>
        </ul>
      </button>
      <button class="flex" id="dark-mode">
        <svg class="w-6 h-6 block dark:hidden" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="7091" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path fill="currentcolor"
            d="M512 783.945143a261.997714 261.997714 0 0 0 192.292571-79.725714A261.997714 261.997714 0 0 0 783.945143 512a261.997714 261.997714 0 0 0-79.725714-192.292571A261.997714 261.997714 0 0 0 512 240.054857c-36.790857 0-74.386286 8.484571-112.64 25.526857 46.811429 21.211429 84.699429 54.125714 113.737143 98.742857 28.964571 44.617143 43.52 93.842286 43.52 147.675429 0 53.833143-14.555429 103.058286-43.52 147.675429a263.899429 263.899429 0 0 1-113.664 98.742857A275.894857 275.894857 0 0 0 512 783.945143z m363.300571-422.765714L1024 512l-148.699429 150.820571v212.48H662.820571L512 1024l-150.820571-148.699429H148.699429V662.820571L0 512l148.699429-150.820571V148.699429h212.48L512 0l150.820571 148.699429h212.48v212.48z"
            p-id="7092"></path>
        </svg>
        <svg class="w-6 h-6 hidden dark:block" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="5081" xmlns:xlink="http://www.w3.org/1999/xlink">
          <path fill="currentcolor"
            d="M502.518519 246.518519a256 256 0 1 0 0 512 256 256 0 0 0 0-512z m0 94.814814a161.185185 161.185185 0 1 1 0 322.370371 161.185185 161.185185 0 0 1 0-322.370371zM512 9.481481a48.545185 48.545185 0 0 1 48.279704 43.538963l0.227555 4.968297v72.628148a48.545185 48.545185 0 0 1-96.786963 4.968296l-0.227555-4.93037V57.950815C463.454815 31.213037 485.224296 9.481481 512 9.481481zM867.365926 156.634074a48.545185 48.545185 0 0 1 3.299555 64.967111l-3.337481 3.678815-51.351704 51.351704a48.545185 48.545185 0 0 1-71.945481-64.929185l3.337481-3.678815 51.351704-51.351704c18.962963-18.962963 49.682963-18.962963 68.645926 0zM1014.518519 512a48.545185 48.545185 0 0 1-43.538963 48.279704l-4.968297 0.227555h-72.628148a48.545185 48.545185 0 0 1-4.968296-96.786963l4.93037-0.227555h72.666074c26.775704 0 48.507259 21.731556 48.50726 48.507259zM867.365926 867.365926a48.545185 48.545185 0 0 1-64.967111 3.299555l-3.678815-3.337481-51.351704-51.351704a48.545185 48.545185 0 0 1 64.929185-71.945481l3.678815 3.337481 51.351704 51.351704c18.962963 18.962963 18.962963 49.682963 0 68.645926zM512 1014.518519a48.545185 48.545185 0 0 1-48.279704-43.538963l-0.227555-4.968297v-72.628148a48.545185 48.545185 0 0 1 96.786963-4.968296l0.227555 4.93037v72.666074A48.545185 48.545185 0 0 1 512 1014.518519zM156.634074 867.365926a48.545185 48.545185 0 0 1-3.299555-64.967111l3.337481-3.678815 51.351704-51.351704a48.545185 48.545185 0 0 1 71.945481 64.929185l-3.337481 3.678815-51.351704 51.351704c-18.962963 18.962963-49.682963 18.962963-68.645926 0zM9.481481 512a48.545185 48.545185 0 0 1 43.538963-48.279704l4.968297-0.227555h100.882963a48.545185 48.545185 0 0 1 4.968296 96.786963l-4.93037 0.227555H58.026667A48.545185 48.545185 0 0 1 9.481481 512zM156.634074 156.634074a48.545185 48.545185 0 0 1 64.967111-3.299555l3.678815 3.337481 51.351704 51.351704a48.545185 48.545185 0 0 1-64.929185 71.945481l-3.678815-3.337481L156.672 225.28c-18.962963-18.962963-18.962963-49.682963 0-68.645926z"
            p-id="5082"></path>
        </svg>
      </button>
    </div>
  </div>
</header>
  
<main class="pb-16 w-full bg-slate-50 dark:bg-slate-900 dark:border-none">
  
  <img class="w-full h-[200px] md:h-[300px] lg:h-[400px] object-cover shadow-md" src="/series/git/images/default.webp" alt="">
  
  <h2 class="pt-4 text-center">Git服务器-使用gerrit搭建私有git服务</h2>
  <h4 class="text-center text-gray-400 text-sm mb-3">
    <span class="px-1 py-2">2024/05/25</span>
    <span class="px-1 py-2">|</span>
    <span class="px-1 py-2">字数2020</span>
    <span class="px-1 py-2">|</span>
    <span class="px-1 py-2">阅读5分钟</span>
  </h4>
  <hr class="w-4/5 sm:w-4/5 md:w-2/3 xl:w-1/2">

  
  <div id="page-content" class="mx-auto min-w-[340px] w-4/5 md:w-3/4 lg:w-2/3">
    <p>Gerrit是Google为Android系统开发的Code Review系统，内部同时集成了git服务，UI界面长这样：
<img alt="gerrit server" src="/series/git/images/gitserver.002.webp">
下面我们就来介绍，如何在一台unbuntu系统上安装gerrit服务，作为私有git服务使用。</p>
<h1 id="安装">安装</h1>
<p>下面是本次安装的网络拓扑结构：
环境：ubuntu24.04，gerrit-3.10.0，nginx-1.24.0
<img alt="gerrit server" src="/series/git/images/gerrit.001.webp"></p>
<ul>
<li>nginx：提供用户认证服务使用，使用Http Basic Auth机制，提供login和logout功能；</li>
<li>.htpasswd文件：提供用户名和密码，为nginx提供用户信息；</li>
<li>gerrit：提供代码review和git托管服务；
<ul>
<li>8081端口：HTTP协议，提供代码review页面；</li>
<li>29418端口：ssh服务，提供git服务；</li>
</ul>
</li>
</ul>
<hr>
<p>使用下面的命令安装gerrit以及依赖包：</p>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">bash</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">## 安装依赖</span>
</span></span><span class="line"><span class="cl">sudo apt install -y openjdk-21-jdk nginx apache2-utils
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 创建gerrit用户</span>
</span></span><span class="line"><span class="cl">sudo adduser gerrit
</span></span><span class="line"><span class="cl">sudo su gerrit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 下载安装包</span>
</span></span><span class="line"><span class="cl">wget https://gerrit-releases.storage.googleapis.com/gerrit-3.10.0.war</span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## 安装依赖
sudo apt install -y openjdk-21-jdk nginx apache2-utils

## 创建gerrit用户
sudo adduser gerrit
sudo su gerrit

## 下载安装包
wget https://gerrit-releases.storage.googleapis.com/gerrit-3.10.0.war</div>
    </div>
</div>
<h1 id="初始化">初始化</h1>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">bash</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">## 初始化gerrit数据目录</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GERRIT_SITE</span><span class="o">=</span><span class="s2">&#34;</span><span class="nv">$HOME</span><span class="s2">/gerrit-data&#34;</span>
</span></span><span class="line"><span class="cl">java -jar gerrit-3.10.0.war init -d <span class="nv">$GERRIT_SITE</span></span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## 初始化gerrit数据目录
export GERRIT_SITE=&#34;$HOME/gerrit-data&#34;
java -jar gerrit-3.10.0.war init -d $GERRIT_SITE</div>
    </div>
</div>
<p>参考下面的配置：<code>${GERRIT_SITE}/etc/gerrit.config</code></p>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">cfg</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cfg" data-lang="cfg"><span class="line"><span class="cl"><span class="c1">## ${GERRIT_SITE}/etc/gerrit.config</span>
</span></span><span class="line"><span class="cl"><span class="k">[gerrit]</span>
</span></span><span class="line"><span class="cl">	<span class="na">basePath</span> <span class="o">=</span> <span class="s">git
</span></span></span><span class="line"><span class="cl"><span class="s">	canonicalWebUrl = http://192.168.1.107:8081
</span></span></span><span class="line"><span class="cl"><span class="s">	serverId = 59bd29f4-c852-4b3e-9ae4-2e535e733969</span>
</span></span><span class="line"><span class="cl"><span class="k">[container]</span>
</span></span><span class="line"><span class="cl">	<span class="na">javaOptions</span> <span class="o">=</span> <span class="s">&#34;-Dflogger.backend_factory=com.google.common.flogger.backend.log4j.Log4jBackendFactory#getInstance&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">	javaOptions = &#34;-Dflogger.logging_context=com.google.gerrit.server.logging.LoggingContext#getInstance&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">	user = gerrit
</span></span></span><span class="line"><span class="cl"><span class="s">	javaHome = /usr/lib/jvm/java-21-openjdk-amd64</span>
</span></span><span class="line"><span class="cl"><span class="k">[index]</span>
</span></span><span class="line"><span class="cl">	<span class="na">type</span> <span class="o">=</span> <span class="s">lucene</span>
</span></span><span class="line"><span class="cl"><span class="k">[auth]</span>
</span></span><span class="line"><span class="cl">	<span class="na">type</span> <span class="o">=</span> <span class="s">HTTP
</span></span></span><span class="line"><span class="cl"><span class="s">	emailFormat = {0}@ticktechman.tech
</span></span></span><span class="line"><span class="cl"><span class="s">	loginUrl = http://192.168.1.107:8000/login
</span></span></span><span class="line"><span class="cl"><span class="s">	logoutUrl = http://192.168.1.107:8000/logout</span>
</span></span><span class="line"><span class="cl"><span class="k">[receive]</span>
</span></span><span class="line"><span class="cl">	<span class="na">enableSignedPush</span> <span class="o">=</span> <span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="k">[sendemail]</span>
</span></span><span class="line"><span class="cl">	<span class="na">smtpServer</span> <span class="o">=</span> <span class="s">localhost</span>
</span></span><span class="line"><span class="cl"><span class="k">[sshd]</span>
</span></span><span class="line"><span class="cl">	<span class="na">listenAddress</span> <span class="o">=</span> <span class="s">*:29418</span>
</span></span><span class="line"><span class="cl"><span class="k">[httpd]</span>
</span></span><span class="line"><span class="cl">	<span class="na">listenUrl</span> <span class="o">=</span> <span class="s">http://*:8081/</span>
</span></span><span class="line"><span class="cl"><span class="k">[cache]</span>
</span></span><span class="line"><span class="cl">	<span class="na">directory</span> <span class="o">=</span> <span class="s">cache</span></span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## ${GERRIT_SITE}/etc/gerrit.config
[gerrit]
	basePath = git
	canonicalWebUrl = http://192.168.1.107:8081
	serverId = 59bd29f4-c852-4b3e-9ae4-2e535e733969
[container]
	javaOptions = &#34;-Dflogger.backend_factory=com.google.common.flogger.backend.log4j.Log4jBackendFactory#getInstance&#34;
	javaOptions = &#34;-Dflogger.logging_context=com.google.gerrit.server.logging.LoggingContext#getInstance&#34;
	user = gerrit
	javaHome = /usr/lib/jvm/java-21-openjdk-amd64
[index]
	type = lucene
[auth]
	type = HTTP
	emailFormat = {0}@ticktechman.tech
	loginUrl = http://192.168.1.107:8000/login
	logoutUrl = http://192.168.1.107:8000/logout
[receive]
	enableSignedPush = false
[sendemail]
	smtpServer = localhost
[sshd]
	listenAddress = *:29418
[httpd]
	listenUrl = http://*:8081/
[cache]
	directory = cache</div>
    </div>
</div>
<h1 id="初始化nginx">初始化nginx</h1>
<p>参考下面的配置：<code>/etc/nginx/conf.d/gerrit.conf</code></p>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">cfg</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cfg" data-lang="cfg"><span class="line"><span class="cl"><span class="c1">## /etc/nginx/conf.d/gerrit.conf</span>
</span></span><span class="line"><span class="cl"><span class="na">server {</span>
</span></span><span class="line"><span class="cl">	<span class="na">listen 8000 default_server;</span>
</span></span><span class="line"><span class="cl">	<span class="na">listen [::]:8000 default_server;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="na">root /var/www/html;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1"># Add index.php to the list if you are using PHP</span>
</span></span><span class="line"><span class="cl">	<span class="na">index index.html index.htm index.nginx-debian.html;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="na">server_name _;</span>
</span></span><span class="line"><span class="cl">	<span class="na">location / {</span>
</span></span><span class="line"><span class="cl">		<span class="c1"># First attempt to serve request as file, then</span>
</span></span><span class="line"><span class="cl">		<span class="c1"># as directory, then fall back to displaying a 404.</span>
</span></span><span class="line"><span class="cl">		<span class="na">try_files $uri $uri/</span> <span class="o">=</span><span class="s">404;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_pass        http://127.0.0.1:8081/;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_set_header  X-Forwarded-For $remote_addr;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_set_header  Host $host;
</span></span></span><span class="line"><span class="cl"><span class="s">		auth_request /login;
</span></span></span><span class="line"><span class="cl"><span class="s">	}
</span></span></span><span class="line"><span class="cl"><span class="s">	location /login {
</span></span></span><span class="line"><span class="cl"><span class="s">		# First attempt to serve request as file, then
</span></span></span><span class="line"><span class="cl"><span class="s">		# as directory, then fall back to displaying a 404.
</span></span></span><span class="line"><span class="cl"><span class="s">		auth_basic &#34;Gerrit Code Review&#34;;
</span></span></span><span class="line"><span class="cl"><span class="s">		auth_basic_user_file /etc/nginx/.htpasswd;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_pass        http://127.0.0.1:8081;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_set_header  X-Forwarded-For $remote_addr;
</span></span></span><span class="line"><span class="cl"><span class="s">		proxy_set_header  Host $host;
</span></span></span><span class="line"><span class="cl"><span class="s">	}
</span></span></span><span class="line"><span class="cl"><span class="s">	location /logout {
</span></span></span><span class="line"><span class="cl"><span class="s">		return 302 http://192.168.1.107:8081;
</span></span></span><span class="line"><span class="cl"><span class="s">	}</span>
</span></span><span class="line"><span class="cl"><span class="na">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## /etc/nginx/conf.d/gerrit.conf
server {
	listen 8000 default_server;
	listen [::]:8000 default_server;

	root /var/www/html;

	# Add index.php to the list if you are using PHP
	index index.html index.htm index.nginx-debian.html;

	server_name _;
	location / {
		# First attempt to serve request as file, then
		# as directory, then fall back to displaying a 404.
		try_files $uri $uri/ =404;
		proxy_pass        http://127.0.0.1:8081/;
		proxy_set_header  X-Forwarded-For $remote_addr;
		proxy_set_header  Host $host;
		auth_request /login;
	}
	location /login {
		# First attempt to serve request as file, then
		# as directory, then fall back to displaying a 404.
		auth_basic &#34;Gerrit Code Review&#34;;
		auth_basic_user_file /etc/nginx/.htpasswd;
		proxy_pass        http://127.0.0.1:8081;
		proxy_set_header  X-Forwarded-For $remote_addr;
		proxy_set_header  Host $host;
	}
	location /logout {
		return 302 http://192.168.1.107:8081;
	}
}</div>
    </div>
</div>
<p>配置完成后，重启nginx服务和gerrit服务</p>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">bash</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo service nginx restart
</span></span><span class="line"><span class="cl"><span class="si">${</span><span class="nv">GERRIT_SITE</span><span class="si">}</span>/bin/gerrit.sh restart</span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">sudo service nginx restart
${GERRIT_SITE}/bin/gerrit.sh restart</div>
    </div>
</div>
<h1 id="测试">测试</h1>
<h2 id="添加用户">添加用户</h2>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">bash</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">## 创建管理员用户</span>
</span></span><span class="line"><span class="cl">sudo htpasswd -b -c /etc/nginx/.htpasswd admin admin123
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 创建普通用户</span>
</span></span><span class="line"><span class="cl">sudo htpasswd -b /etc/nginx/.htpasswd ticktech ticktech123</span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## 创建管理员用户
sudo htpasswd -b -c /etc/nginx/.htpasswd admin admin123

## 创建普通用户
sudo htpasswd -b /etc/nginx/.htpasswd ticktech ticktech123</div>
    </div>
</div>
<p>打开浏览器，登陆<code>http://192.168.1.107:8081</code>，点击右上角的<code>Sign in</code>登陆：</p>
<ul>
<li>管理员登陆：在弹出的对话框中输入上面<code>admin</code>用户名和密码（注意这里先使用admin用户登陆，因为gerrit默认第一个登陆的用户为管理员账户）。</li>
<li>普通用户登陆：接着使用第二个用户<code>ticktech</code>登陆，作为一个普通用户。</li>
</ul>
<blockquote>
<p>这里需要注意，在登陆第二个用户前，需要先删除本地浏览器的历史记录（缓存和cookies），否则会一直以第一个用户登陆的状态进入系统，这是使用HTTP Basic Auth的缺陷。</p>
</blockquote>
<p>新用户登陆后，需要先添加ssh-key才能下载代码：</p>
<div class="carousel">
  
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.004.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol>
<li>入口：分别点击右上角的【设置】图标，然后在左侧的菜单中点击【SSH Keys】</li>
</ol>

  </div>
</div>
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.005.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol start="2">
<li>将本地的ssh-key公钥内容复制到这里，然后点击【ADD NEW SSH KEY】</li>
</ol>
<p>如果你默认使用的rsa，公钥文件为:<code>$HOME/.ssh/id_rsa.pub</code>，如果用的是ed25519，公钥文件为：<code>$HOME/.ssh/id_ed25519.pub</code></p>

  </div>
</div>

  

  <div class="z-12 w-full absolute top-1/3 flex flex-row justify-between ">
    
    <svg name="left" class="m-2 cursor-pointer" onclick="carousel_left(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 30.554843,43.284079 c 0.687984,0 1.375176,-0.263847 1.902345,-0.791015 1.054336,-1.054337 1.054336,-2.752304 0,-3.806641 L 17.765782,23.995017 32.457188,9.3055642 c 1.054336,-1.0543365 1.054336,-2.752305 0,-3.8066415 -1.054337,-1.0543365 -2.752305,-1.0543358 -3.806641,7e-7 L 12.156406,21.993064 c -0.55262,0.552621 -0.811837,1.283099 -0.785156,2.003906 -0.02668,0.720807 0.232536,1.449332 0.785156,2.001953 l 16.494141,16.494141 c 0.527168,0.527167 1.216314,0.791015 1.904296,0.791015 z" />
    </svg>
    
    <svg name="right" class="m-2 cursor-pointer" onclick="carousel_right(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 16.683301,-10.523738 c -0.486478,0.486478 -0.785828,1.1589645 -0.785828,1.904493 0,1.491057 1.200644,2.6917014 2.691701,2.6917014 H 39.36596 l -0.0014,20.7754046 c 0,1.491057 1.200645,2.691702 2.691702,2.691702 1.491057,0 2.691701,-1.200645 2.691701,-2.691702 V -8.478376 c 0,-0.781524 -0.333232,-1.4813441 -0.861786,-1.972165 -0.490821,-0.528554 -1.18926,-0.860405 -1.970784,-0.860405 H 18.589174 c -0.745528,0 -1.419396,0.300731 -1.905873,0.787208 z"
        transform="rotate(45)" />
    </svg>
  </div>
</div>
<h2 id="新建仓库">新建仓库</h2>
<p>点击菜单：[BROWSE] &gt; [Repositories] &gt; [CREATE NEW]
<div class="carousel">
  
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.002.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol>
<li>入口：[BROWSE] &gt; [Repositories] &gt; [CREATE NEW]</li>
</ol>

  </div>
</div>
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.003.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol start="2">
<li>填写仓库信息</li>
</ol>

  </div>
</div>

  

  <div class="z-12 w-full absolute top-1/3 flex flex-row justify-between ">
    
    <svg name="left" class="m-2 cursor-pointer" onclick="carousel_left(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 30.554843,43.284079 c 0.687984,0 1.375176,-0.263847 1.902345,-0.791015 1.054336,-1.054337 1.054336,-2.752304 0,-3.806641 L 17.765782,23.995017 32.457188,9.3055642 c 1.054336,-1.0543365 1.054336,-2.752305 0,-3.8066415 -1.054337,-1.0543365 -2.752305,-1.0543358 -3.806641,7e-7 L 12.156406,21.993064 c -0.55262,0.552621 -0.811837,1.283099 -0.785156,2.003906 -0.02668,0.720807 0.232536,1.449332 0.785156,2.001953 l 16.494141,16.494141 c 0.527168,0.527167 1.216314,0.791015 1.904296,0.791015 z" />
    </svg>
    
    <svg name="right" class="m-2 cursor-pointer" onclick="carousel_right(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 16.683301,-10.523738 c -0.486478,0.486478 -0.785828,1.1589645 -0.785828,1.904493 0,1.491057 1.200644,2.6917014 2.691701,2.6917014 H 39.36596 l -0.0014,20.7754046 c 0,1.491057 1.200645,2.691702 2.691702,2.691702 1.491057,0 2.691701,-1.200645 2.691701,-2.691702 V -8.478376 c 0,-0.781524 -0.333232,-1.4813441 -0.861786,-1.972165 -0.490821,-0.528554 -1.18926,-0.860405 -1.970784,-0.860405 H 18.589174 c -0.745528,0 -1.419396,0.300731 -1.905873,0.787208 z"
        transform="rotate(45)" />
    </svg>
  </div>
</div></p>
<h2 id="代码下载提交">代码下载&amp;提交</h2>
<div class="flex flex-col bg-[#eee8d5] my-2 rounded-xl overflow-hidden shadow dark:bg-[#282c34]">
    <div class="mt-2 mx-4 flex flex-row">
        <div class="rounded-full size-3 bg-red-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-yellow-400 ml-1.5 my-auto"></div>
        <div class="rounded-full size-3 bg-green-400 ml-1.5 my-auto"></div>
        <div class=" font-mono grow text-center">bash</div>
    </div>
    <div class="flex flex-row mx-4 my-3">
        <div class="grow text-white text-nowrap overflow-auto scroll code-scroll-bar" >
        
        <div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">## 下载代码</span>
</span></span><span class="line"><span class="cl">git clone ssh://ticktech@192.168.1.107:29418/myrepo.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> myrepo/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 配置commit-msg钩子，为了生成change-id，这个是gerrit需要的</span>
</span></span><span class="line"><span class="cl">wget http://192.168.1.107:8081/tools/hooks/commit-msg -O .git/hooks/commit-msg
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## coding</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## 提交代码，注意这里提交的远端分支为refs/for/master</span>
</span></span><span class="line"><span class="cl">git add .
</span></span><span class="line"><span class="cl">git commit
</span></span><span class="line"><span class="cl">git push origin HEAD:refs/for/master</span></span></code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class="flex-none pl-1 text-right cursor-pointer" onclick="copyCode(this);">
            <svg name="copy-code" class="duration-500" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 48 48" fill="#ccc">
                <path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"/>
            </svg>
            <svg name="copy-success" viewBox="0 0 1024 1024" class="hidden duration-500" width="24" fill="#0a0"><path d="M911.075556 192.796444a45.511111 45.511111 0 0 1 5.518222 64.113778l-455.111111 540.444445a45.511111 45.511111 0 0 1-68.835556 0.910222l-227.555555-256a45.511111 45.511111 0 0 1 68.039111-60.472889l192.625777 216.689778 421.205334-500.224a45.511111 45.511111 0 0 1 64.113778-5.461334z" p-id="5114"></path></svg>
        </div>
        <div class="hidden">## 下载代码
git clone ssh://ticktech@192.168.1.107:29418/myrepo.git
cd myrepo/

## 配置commit-msg钩子，为了生成change-id，这个是gerrit需要的
wget http://192.168.1.107:8081/tools/hooks/commit-msg -O .git/hooks/commit-msg

## coding

## 提交代码，注意这里提交的远端分支为refs/for/master
git add .
git commit
git push origin HEAD:refs/for/master</div>
    </div>
</div>
<p>执行上面的操作后，代码并没有被提交到远端仓库中，而是需要code-review之后才可以。登陆你的gerrit：
点击菜单：[BROWSE] &gt; [Repositories] &gt; [CREATE NEW]
<div class="carousel">
  
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.006.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol>
<li>首页中，默认可以看到当前的需要review的patch清单</li>
</ol>
<p>点击标题，就可以进入到对应的review页面</p>

  </div>
</div>
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.007.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol start="2">
<li>Code-Review</li>
</ol>
<p>在这里可以给patch进行【CODE-REVIEW+2】的操作，也就是不需要其他人review，可以合入仓库</p>

  </div>
</div>
<div class="carousel-item ease-in-out w-full duration-1000 translate-x-full">
  <img src='/series/git/images/gerrit.008.webp' />
  <div class="comments" style="scrollbar-width: thin;">
    <ol start="3">
<li>合入仓库</li>
</ol>
<p>点击【SUBMIT】就可以合入到仓库中</p>

  </div>
</div>

  

  <div class="z-12 w-full absolute top-1/3 flex flex-row justify-between ">
    
    <svg name="left" class="m-2 cursor-pointer" onclick="carousel_left(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 30.554843,43.284079 c 0.687984,0 1.375176,-0.263847 1.902345,-0.791015 1.054336,-1.054337 1.054336,-2.752304 0,-3.806641 L 17.765782,23.995017 32.457188,9.3055642 c 1.054336,-1.0543365 1.054336,-2.752305 0,-3.8066415 -1.054337,-1.0543365 -2.752305,-1.0543358 -3.806641,7e-7 L 12.156406,21.993064 c -0.55262,0.552621 -0.811837,1.283099 -0.785156,2.003906 -0.02668,0.720807 0.232536,1.449332 0.785156,2.001953 l 16.494141,16.494141 c 0.527168,0.527167 1.216314,0.791015 1.904296,0.791015 z" />
    </svg>
    
    <svg name="right" class="m-2 cursor-pointer" onclick="carousel_right(event, this)" width="32" height="32"
      viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
      <path style="fill:#888;fill-opacity:1;fill-rule:evenodd;stroke:#fff;stroke-width:1.88976;stroke-opacity:1"
        d="m 16.683301,-10.523738 c -0.486478,0.486478 -0.785828,1.1589645 -0.785828,1.904493 0,1.491057 1.200644,2.6917014 2.691701,2.6917014 H 39.36596 l -0.0014,20.7754046 c 0,1.491057 1.200645,2.691702 2.691702,2.691702 1.491057,0 2.691701,-1.200645 2.691701,-2.691702 V -8.478376 c 0,-0.781524 -0.333232,-1.4813441 -0.861786,-1.972165 -0.490821,-0.528554 -1.18926,-0.860405 -1.970784,-0.860405 H 18.589174 c -0.745528,0 -1.419396,0.300731 -1.905873,0.787208 z"
        transform="rotate(45)" />
    </svg>
  </div>
</div></p>
<p>上面操作完成后，在git工作目录中执行<code>git pull</code>就可以下载到最新的代码了。</p>
<h1 id="参考">参考</h1>
<ul>
<li><a href="https://gerrit-review.googlesource.com/Documentation/install.html">https://gerrit-review.googlesource.com/Documentation/install.html</a></li>
<li><a href="https://gerrit-releases.storage.googleapis.com/index.html">https://gerrit-releases.storage.googleapis.com/index.html</a></li>
<li><a href="https://ubuntu.com/server/docs/install-and-configure-ldap">https://ubuntu.com/server/docs/install-and-configure-ldap</a></li>
<li><a href="https://gerrit-review.googlesource.com/Documentation/config-sso.html#_http_basic_authentication">https://gerrit-review.googlesource.com/Documentation/config-sso.html#_http_basic_authentication</a></li>
<li><a href="https://gerrit-review.googlesource.com/Documentation/config-gerrit.html">https://gerrit-review.googlesource.com/Documentation/config-gerrit.html</a></li>
</ul>

  </div>
  

  <div class="mx-auto flex flex-row justify-between mt-8 min-w-[340px] w-4/5 md:w-3/4 lg:w-2/3">
    
    <a class="block px-4 py-2 text-sm text-gray-400 mx-1 bg-black/5 rounded italic hover:text-blue-500 dark:bg-white/10"
      href="/series/git/32/">上一篇：Git服务器-使用gitlab搭建私有git服务</a>
    
    
    <a class="block px-4 py-2 text-sm text-gray-400 mx-1 bg-black/5 rounded italic hover:text-blue-500 dark:bg-white/10"
      href="/series/git/34/">下一篇：Git服务器-给gerrit搭建一个LDAP认证服务</a>
    
  </div>
  
  <div class="flex flex-col mt-2 mx-auto min-w-[340px] w-4/5 md:w-3/4 lg:w-2/3">
    <p class="mx-auto font-bold text-red-500 cursor-pointer" onclick="coffee(this);">【文章不错，鼓励一下】</p>
    <img src="/assets/images/like.webp" class="mx-auto w-[280px] rounded-md border shadow hidden">
  </div>
  
</main>

<div id="page-model-image-diag"
  class="mx-auto items-center overflow-auto w-full h-full bg-black/80 fixed z-99 top-0 left-0 hidden"
  onclick="hideImageDiag(event, this)">
  <img src="" class="mx-auto max-w-[100vw] max-h-[100vh] cursor-zoom-in rounded-lg shadow-lg duration-500"
    onclick="largeImageClick(event);" onkeypress="largeImagePress(event)" ondblclick="imageZoomIn(event, this)">
</div>

  <footer>
  <div class="flex text-sm text-gray-400"> © ticktechman 2024</div>
  
</footer>
  <script src="/assets/js/dark-mode.js"></script>
  <script src="/assets/js/main.js"></script>
</body>

</html>